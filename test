高點:=15;
低點:=10;
時間:=1;
價格:=1;
PURC:=CONST(FINDHIGH(H,0,高點*10,1));
PLZ:=CONST(BARSLAST(PURC=H))+1;
頂X:=CONST(IF(PLZ=1,H,REF(H,PLZ-1)));
QQT:=CONST(FINDLOW(L,0,低點*10,1));
PLL:=CONST(BARSLAST(QQT=L))+1;
低X:=CONST(IF(PLL=1,L,REF(L,PLL-1)));
AAZ:=IF(時間=1,ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*0.809),DRAWNULL);
ABZ:=ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*0.5);
ACZ:=IF(時間=1,ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*0.618),DRAWNULL);
ADZ:=IF(時間=1,ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*0.382),DRAWNULL);
AEZ:=IF(時間=1,ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*0.236),DRAWNULL);
AFZ:=ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*1);
AGZ:=IF(時間=1,ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*1.809),DRAWNULL);
AHZ:=ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*1.5);
AIZ:=IF(時間=1,ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*1.618),DRAWNULL);
AJZ:=IF(時間=1,ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*1.382),DRAWNULL);
AKZ:=IF(時間=1,ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*1.236),DRAWNULL);
ALZ:=ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*2);
AMZ:=IF(時間=1,ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*2.236),DRAWNULL);
ANZ:=IF(時間=1,ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*2.382),DRAWNULL);
AOZ:=IF(時間=1,ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*2.5),DRAWNULL);
APZ:=IF(時間=1,ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*2.618),DRAWNULL);
AQZ:=IF(時間=1,ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*2.809),DRAWNULL);
ARZ:=IF(時間=1,ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*3),DRAWNULL);
ASZ:=ROUND(IF(PLZ>PLL,PLZ,PLL));
STICKLINE(CURRBARSCOUNT=AAZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=ABZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=ACZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=ADZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=AEZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=AFZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=AGZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=AHZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=AIZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=AJZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=AKZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=ALZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=AMZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=ANZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=AOZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=APZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=AQZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=ARZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=ASZ,頂X,低X,0,0),COLORMAGENTA;
QAZ:=IF(時間=2,ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*1/8),DRAWNULL);
QBZ:=IF(時間=2,ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*2/8),DRAWNULL);
QCZ:=IF(時間=2,ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*3/8),DRAWNULL);
QDZ:=IF(時間=2,ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*4/8),DRAWNULL);
QEZ:=IF(時間=2,ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*5/8),DRAWNULL);
QGZ:=IF(時間=2,ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*6/8),DRAWNULL);
QHZ:=IF(時間=2,ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*7/8),DRAWNULL);
QIZ:=IF(時間=2,ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*9/8),DRAWNULL);
QJZ:=IF(時間=2,ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*1/3),DRAWNULL);
QKZ:=IF(時間=2,ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*2/3),DRAWNULL);
QMZ:=IF(時間=2,ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*10/8),DRAWNULL);
QNZ:=IF(時間=2,ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*11/8),DRAWNULL);
QOZ:=IF(時間=2,ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*5/3),DRAWNULL);
QPZ:=IF(時間=2,ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*13/8),DRAWNULL);
QQZ:=IF(時間=2,ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*14/8),DRAWNULL);
QRZ:=IF(時間=2,ROUND(IF(PLZ>PLL,PLZ,PLL)-ABS(PLZ-PLL)*15/8),DRAWNULL);
STICKLINE(CURRBARSCOUNT=QAZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=QBZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=QCZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=QDZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=QEZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=QGZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=QHZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=QIZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=QJZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=QKZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=QMZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=QNZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=QOZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=QPZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=QQZ,頂X,低X,0,0),COLORMAGENTA;
STICKLINE(CURRBARSCOUNT=QRZ,頂X,低X,0,0),COLORMAGENTA;
DRAWLINE(H,O,L,C);
天XX線:,頂X,COLORMAGENTA;
地XX線:低X,COLORMAGENTA;
NOTEXT1:地XX線+(天XX線-地XX線)*0.5,COLORMAGENTA,DOTLINE;
NOTEXT2:IF(價格=1,地XX線+(天XX線-地XX線)*0.236,DRAWNULL),COLORMAGENTA,DOTLINE;
NOTEXT3:IF(價格=1,地XX線+(天XX線-地XX線)*0.382,DRAWNULL),COLORMAGENTA,DOTLINE;
NOTEXT4:IF(價格=1,地XX線+(天XX線-地XX線)*0.618,DRAWNULL),COLORMAGENTA,DOTLINE;
NOTEXT5:IF(價格=1,地XX線+(天XX線-地XX線)*0.809,DRAWNULL),COLORMAGENTA,DOTLINE;
NOTEXT6:IF(價格=2,地XX線+(天XX線-地XX線)*1/8,DRAWNULL),COLORMAGENTA,DOTLINE;
NOTEXT7:IF(價格=2,地XX線+(天XX線-地XX線)*2/8,DRAWNULL),COLORMAGENTA,DOTLINE;
NOTEXT8:IF(價格=2,地XX線+(天XX線-地XX線)*3/8,DRAWNULL),COLORMAGENTA,DOTLINE;
NOTEXT10:IF(價格=2,地XX線+(天XX線-地XX線)*5/8,DRAWNULL),COLORMAGENTA,DOTLINE;
NOTEXT11:IF(價格=2,地XX線+(天XX線-地XX線)*6/8,DRAWNULL),COLORMAGENTA,DOTLINE;
NOTEXT12:IF(價格=2,地XX線+(天XX線-地XX線)*7/8,DRAWNULL),COLORMAGENTA,DOTLINE;
NOTEXT13:IF(價格=2,地XX線+(天XX線-地XX線)*1/3,DRAWNULL),COLORMAGENTA,DOTLINE;
NOTEXT14:IF(價格=2,地XX線+(天XX線-地XX線)*2/3,DRAWNULL),COLORMAGENTA,DOTLINE;
DRAWTEXT(CURRBARSCOUNT=AAZ,頂X0.98,'0.809'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=ABZ,頂X0.98,'0.500'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=ACZ,頂X0.98,'0.618'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=ADZ,頂X0.98,'0.382'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=AEZ,頂X0.98,'0.236'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=AFZ,頂X0.98,'1.00'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=AGZ,頂X0.98,'1.809'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=AHZ,頂X0.98,'1.500'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=AIZ,頂X0.98,'1.618'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=AJZ,頂X0.98,'1.382'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=AKZ,頂X0.98,'1.236'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=ALZ,頂X0.98,'2.00'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=AMZ,頂X0.98,'2.236'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=ANZ,頂X0.98,'2.382'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=AOZ,頂X0.98,'2.500'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=APZ,頂X0.98,'2.618'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=AQZ,頂X0.98,'2.809'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=ARZ,頂X0.98,'3.00'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=ASZ,頂X0.98,'0.00'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=AQZ,頂X0.98,'1/8'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=ABZ,頂X0.98,'2/8'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=QCZ,頂X0.98,'3/8'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=QDZ,頂X0.98,'4/8'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=QEZ,頂X0.98,'5/8'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=QGZ,頂X0.98,'6/8'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=QHZ,頂X0.98,'7/8'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=QIZ,頂X0.98,'9/8'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=QJZ,頂X0.98,'1/3'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=QKZ,頂X0.98,'2/3'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=QMZ,頂X0.98,'10/8'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=QNZ,頂X0.98,'11/8'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=QOZ,頂X0.98,'5/3'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=QPZ,頂X0.98,'13/8'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=QQZ,頂X0.98,'14/8'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=QRZ,頂X0.98,'15/8'),COLORMAGENTA;
DRAWTEXT(CURRBARSCOUNT=3,NOTEXT1,'0.500'),COLORRED;
DRAWTEXT(CURRBARSCOUNT=3,NOTEXT2,'0.236'),COLORRED;
DRAWTEXT(CURRBARSCOUNT=3,NOTEXT3,'0.382'),COLORRED;
DRAWTEXT(CURRBARSCOUNT=3,NOTEXT4,'0.618'),COLORRED;
DRAWTEXT(CURRBARSCOUNT=3,NOTEXT5,'0.809'),COLORRED;
DRAWTEXT(CURRBARSCOUNT=3,NOTEXT6,'1/8'),COLORRED;
DRAWTEXT(CURRBARSCOUNT=3,NOTEXT7,'2/8'),COLORRED;
DRAWTEXT(CURRBARSCOUNT=3,NOTEXT8,'3/8'),COLORRED;
DRAWTEXT(CURRBARSCOUNT=3,NOTEXT10,'5/8'),COLORRED;
DRAWTEXT(CURRBARSCOUNT=3,NOTEXT11,'6/8'),COLORRED;
DRAWTEXT(CURRBARSCOUNT=3,NOTEXT12,'7/8'),COLORRED;
DRAWTEXT(CURRBARSCOUNT=3,NOTEXT13,'1/3'),COLORRED;
DRAWTEXT(CURRBARSCOUNT=3,NOTEXT14,'2/3'),COLORRED;
